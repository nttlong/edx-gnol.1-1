<div title="${_//'Export to excel and download'}" ng-init="data.filename='${filename}';$parent.$tools.url_download=undefined">
    <form-layout xs-cols="12" sm-cols="4,8" md-cols="3,9" lg-cols="3,9">
        <form-template>
            <div>
                <span>
                    ${_//"Filename"}
                </span>
                <input type="text" ng-model="data.filename" placeholder="${_//'Enter filename'}">
            </div>
            <div ng-if="$parent.$tools.url_download" >

                <a href="{{$parent.$parent.$tools.url_download.url}}" target="_blank"  span="12">
                    ${_//"Click here to download"}
                </a>

            </div>
            <div>
                <div span="12">
                        <div class="btn-toolbar pull-right" role="toolbar">
                            <div class="btn-group">

                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-default" ng-click="$parent.$tools.excel_filename = data.filename; $parent.$tools.doExcelExport();">${_//"Do export"}</button>

                            </div>
                            <div class="btn-group">
                                <button type="button" class="btn btn-default" ng-click="$doClose();">${_//"Close"}</button>
                            </div>
                        </div>
                </div>

            </div>
        </form-template>
    </form-layout>
    <div ng-if = "!$parent.$tools.doExcelExport">
        <p>
            ${_//"Export data to excel is not support for this page"}
        </p>
    </div>
    <script>
        (function(scope){
            scope.filename = "${filename}";
            scope.test=function(){
                console.log(scope.$parent);
            }
        });
    </script>


</div>
